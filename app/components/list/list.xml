<Page navigatingTo="onNavigatingTo" xmlns:l="components/list-item">
    <Page.actionBar>
        <ActionBar title="Groceries">
            <ActionBar.actionItems>
                <ActionItem text="Share" tap="share" ios.position="right" />
            </ActionBar.actionItems>
        </ActionBar>
    </Page.actionBar>
    <GridLayout rows="auto, *" columns="2*, *">
        <TextField id="grocery" text="{{ grocery }}" hint="Enter a grocery item" row="0" col="0" />
        <Button text="Add" tap="add" row="0" col="1" />
        <ListView items="{{ groceryList }}" id="groceryList" row="1" colSpan="2">
            <ListView.itemTemplate>
                <!-- When an embedded component is used in a ListView.itemTemplate as is done here, the
                     embedded component's binding context is automatically set to the list item, and this
                     binding context is immutable (i.e. you can't use `this.set('foo', foo)` to set a new property on it). -->
                <l:list-item />
            </ListView.itemTemplate>
        </ListView>
        <ActivityIndicator busy="{{ isLoading }}" rowSpan="2" colSpan="2" />
    </GridLayout>
</Page>
